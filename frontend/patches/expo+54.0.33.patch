diff --git a/node_modules/expo/Expo.podspec b/node_modules/expo/Expo.podspec
index 5be4f75..3a24859 100644
--- a/node_modules/expo/Expo.podspec
+++ b/node_modules/expo/Expo.podspec
@@ -65,6 +65,7 @@ Pod::Spec.new do |s|
     '"$(PODS_ROOT)/Headers/Private/React-Core"', # as React-RCTAppDelegate.podspec to access JSCExecutorFactory.h
     '"$(PODS_ROOT)/DoubleConversion"',
     '"${PODS_CONFIGURATION_BUILD_DIR}/ExpoModulesCore/Swift Compatibility Header"',
+    '"$(PODS_ROOT)/Headers/Public/ReactAppDependencyProvider"',
   ]
   if ENV['USE_FRAMEWORKS']
     header_search_paths.concat([
@@ -99,7 +100,9 @@ Pod::Spec.new do |s|
 
   s.dependency 'React-RCTAppDelegate'
   s.dependency 'React-RCTFabric'
-  s.dependency 'ReactAppDependencyProvider'
+  if ENV['RCT_NEW_ARCH_ENABLED'] == '1'
+    s.dependency 'ReactAppDependencyProvider'
+  end
 
   install_modules_dependencies(s)
 
diff --git a/node_modules/expo/ios/AppDelegates/ExpoAppDelegate.swift b/node_modules/expo/ios/AppDelegates/ExpoAppDelegate.swift
index ab95b08..5fddd59 100644
--- a/node_modules/expo/ios/AppDelegates/ExpoAppDelegate.swift
+++ b/node_modules/expo/ios/AppDelegates/ExpoAppDelegate.swift
@@ -1,7 +1,13 @@
 import Dispatch
 import Foundation
 import ExpoModulesCore
+#if canImport(ReactAppDependencyProvider)
 import ReactAppDependencyProvider
+#endif
+
+#if !canImport(ReactAppDependencyProvider)
+@objc public protocol ReactNativeFactoryProvider {}
+#endif
 
 /**
  Note: you cannot subclass Swift from Objective-C, use EXAppDelegateWrapper with Obj-C app delegates
